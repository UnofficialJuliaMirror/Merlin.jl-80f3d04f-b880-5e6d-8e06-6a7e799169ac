<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Save and Load · Merlin.jl documentation</title><link href="assets/documenter.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script></head><body><nav class="toc"><a href><img class="logo" src="assets/logo.png" alt="Merlin.jl logo"/></a><h1>Merlin.jl</h1><form class="search" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">Home</a></li><li><a class="toctext" href="functions.html">Functions</a></li><li><a class="toctext" href="optimizers.html">Optimizers</a></li><li class="current"><a class="toctext" href="save_load.html">Save and Load</a><ul class="internal"><li><a class="toctext" href="#Custom-Serialization-1">Custom Serialization</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href="save_load.html">Save and Load</a></li></ul><a class="edit-page" href="https://github.com/hshindo/Merlin.jl/tree/14db0481a496dfdbd4493caffb1127e640c35f62/docs/src/save_load.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/></header><h1><a class="nav-anchor" id="Save-and-Load-1" href="#Save-and-Load-1">Save and Load</a></h1><p><code>Merlin</code> supports saving and loading objects in HDF5 format.</p><ul><li><p>For saving objects provided by Merlin, use <code>Merlin.save</code> and <code>Merlin.load</code> functions.</p></li><li><p>For other complex objects, it is recommended to use <code>JLD.save</code> and <code>JLD.load</code> functions provided by <a href="https://github.com/JuliaIO/JLD.jl">JLD.jl</a>.</p></li></ul><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Merlin.save" href="#Merlin.save"><code>Merlin.save</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">save(path::String, mode::String, name::String, obj)</code></pre><p>Save an object in Merlin HDF5 format.</p><ul><li><p>mode: &quot;w&quot; (overrite) or &quot;r+&quot; (append)</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/hshindo/Merlin.jl/tree/14db0481a496dfdbd4493caffb1127e640c35f62/src/hdf5.jl#L1-L6">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Merlin.load" href="#Merlin.load"><code>Merlin.load</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">load(path::String, name::String)</code></pre><p>Load an object from Merlin HDF5 format.</p></div><a class="source-link" target="_blank" href="https://github.com/hshindo/Merlin.jl/tree/14db0481a496dfdbd4493caffb1127e640c35f62/src/hdf5.jl#L15-L19">source</a><br/></section><p>For example,</p><pre><code class="language-julia">x = Embeddings(Float32,10000,100)
Merlin.save(&quot;embedding.h5&quot;, &quot;w&quot;, &quot;x&quot;, x)</code></pre><p>A graph structure can be saved as well:</p><pre><code class="language-julia">T = Float32
x = Var()
y = Linear(T,10,7)(x)
y = relu(y)
y = Linear(T,7,3)(y)
g = Graph(y, x)
Merlin.save(&quot;graph.h5&quot;, &quot;g&quot;, g)</code></pre><p>The saved HDF5 file is as follows:</p><p><img src="https://raw.githubusercontent.com/hshindo/Merlin.jl/master/docs/src/assets/graph.h5.png" alt="graph.h5"/></p><h2><a class="nav-anchor" id="Custom-Serialization-1" href="#Custom-Serialization-1">Custom Serialization</a></h2><p>It requires to implement <code>h5convert</code> function for custom serialization/deserialization. See Merlin sources for details.</p><footer><hr/><a class="previous" href="optimizers.html"><span class="direction">Previous</span><span class="title">Optimizers</span></a></footer></article></body></html>
