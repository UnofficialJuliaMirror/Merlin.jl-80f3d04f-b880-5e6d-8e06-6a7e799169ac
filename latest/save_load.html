<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Save and Load · Merlin.jl documentation</title><link href="assets/documenter.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script></head><body><nav class="toc"><a href><img class="logo" src="assets/logo.png" alt="Merlin.jl logo"/></a><h1>Merlin.jl</h1><form class="search" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">Home</a></li><li><a class="toctext" href="functions.html">Functions</a></li><li><a class="toctext" href="optimizers.html">Optimizers</a></li><li class="current"><a class="toctext" href="save_load.html">Save and Load</a><ul class="internal"><li><a class="toctext" href="#Save-1">Save</a></li><li><a class="toctext" href="#Load-1">Load</a></li><li><a class="toctext" href="#Saving-Your-Own-Objects-1">Saving Your Own Objects</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href="save_load.html">Save and Load</a></li></ul><a class="edit-page" href="https://github.com/hshindo/Merlin.jl/tree/ea4750275fcf677aa51910679425e67a74476a51/docs/src/save_load.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/></header><h1><a class="nav-anchor" id="Save-and-Load-1" href="#Save-and-Load-1">Save and Load</a></h1><p><code>Merlin</code> supports saving and loading objects in HDF5 format.</p><h2><a class="nav-anchor" id="Save-1" href="#Save-1">Save</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Merlin.h5save" href="#Merlin.h5save"><code>Merlin.h5save</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">h5save(filename::String, data)</code></pre><p>Save objects as a HDF5 format. Note that the objects are required to implement <code>h5convert</code> and <code>h5load!</code> functions.</p></div><a class="source-link" target="_blank" href="https://github.com/hshindo/Merlin.jl/tree/ea4750275fcf677aa51910679425e67a74476a51/src/hdf5.jl#L3-L8">source</a><br/></section><p>For example,</p><pre><code class="language-julia">x = Embeddings(Float32,10000,100)
h5save(&quot;&lt;filename&gt;.h5&quot;, x)</code></pre><p>A graph structure can be saved as well:</p><pre><code class="language-julia">T = Float32
ls = [Linear(T,10,7), Linear(T,7,3)]
g = @graph begin
    x = ls[1](:x)
    x = relu(x)
    x = ls[2](x)
    x
end
h5save(&quot;&lt;filename&gt;.h5&quot;, g)</code></pre><p>The saved HDF5 file is as follows: &lt;p&gt;&lt;img src=&quot;https://github.com/hshindo/Merlin.jl/blob/master/docs/src/assets/sample.h5.png&quot;&gt;&lt;/p&gt;</p><h2><a class="nav-anchor" id="Load-1" href="#Load-1">Load</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Merlin.h5load" href="#Merlin.h5load"><code>Merlin.h5load</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">h5load(filename::String)</code></pre><p>Load a HDF5 file.</p></div><a class="source-link" target="_blank" href="https://github.com/hshindo/Merlin.jl/tree/ea4750275fcf677aa51910679425e67a74476a51/src/hdf5.jl#L31-L35">source</a><br/></section><h2><a class="nav-anchor" id="Saving-Your-Own-Objects-1" href="#Saving-Your-Own-Objects-1">Saving Your Own Objects</a></h2><p>It requires to implement <code>h5convert</code> and <code>h5load!</code> functions.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Merlin.h5dict" href="#Merlin.h5dict"><code>Merlin.h5dict</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">h5dict(T::Type, x::Pair...)</code></pre><p>Create a hdf5 dictionary with type information.</p></div><a class="source-link" target="_blank" href="https://github.com/hshindo/Merlin.jl/tree/ea4750275fcf677aa51910679425e67a74476a51/src/hdf5.jl#L38-L42">source</a><br/></section><footer><hr/><a class="previous" href="optimizers.html"><span class="direction">Previous</span><span class="title">Optimizers</span></a></footer></article></body></html>
